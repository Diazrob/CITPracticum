@using CITPracticum.Data.Enum;
@using CITPracticum.ViewModels;
@model CreateFormBViewModel

@{
    ViewData["Title"] = "Practicum Forms";
    ViewData["CurrentPage"] = "Practicum Forms > Form B";
}

<a href="/PracticumForm/Index"><i class="fa-solid fa-arrow-left fa-xl"></i></a>
<div class="mx-auto" style="width: 65%;">
    <form method="post" asp-action="CreateFormB" enctype="multipart/form-data">
        <div class="row">
            <div class="col-md-12">
                <h3 class="text-center">Practicum Agreement between Host and Student (Form B)</h3>
                <hr />
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-3">
                <label asp-for="PracHost" class="form-label">Practicum Host:</label>
                @if (User.IsInRole("student") || User.IsInRole("employer"))
                {
                    <input asp-for="PracHost" name="pracHost" value="@Model.PracHost" class="form-control" readonly />
                    <span asp-validation-for="PracHost" class="text-danger"></span>
                }
                else
                {
                    <input asp-for="PracHost" name="pracHost" class="form-control" />
                    <span asp-validation-for="PracHost" class="text-danger"></span>
                }

            </div>
            <div class="col-md-9" style="margin-top: 2.5rem !important;">
                agrees to provide a meaningful work experience for
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-3">
                <label asp-for="StuName" class="form-label">Student's Name:</label>
                @if (User.IsInRole("student") || User.IsInRole("employer"))
                {
                    <input asp-for="StuName" name="studName" value="@Model.StuName" class="form-control" readonly />
                    <span asp-validation-for="StuName" class="text-danger"></span>
                }
                else
                {
                    <input asp-for="StuName" name="studName" class="form-control" />
                    <span asp-validation-for="StuName" class="text-danger"></span>
                }
            </div>
            <div class="col-md-1" style="margin-top: 2.5rem !important;">
                from
            </div>
            <div class="col-md-3">
                <label asp-for="StartDate" class="form-label">Start Date:</label>
                <input asp-for="StartDate" id="startDateInput" type="date" class="form-control">
                <span asp-validation-for="StartDate" class="text-danger"></span>
            </div>
            <div class="col-md-1" style="margin-top: 2.5rem !important;">
                to
            </div>
            <div class="col-md-3">
                <label asp-for="EndDate" class="form-label">End Date:</label>
                <input asp-for="EndDate" id="endDateInput" type="date" class="form-control">
                <span asp-validation-for="EndDate" class="text-danger"></span>
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-12">
                based on the student’s skills gained in the Lethbridge College <b>Computer Information Technology</b>
                program. The Practicum Host is responsible for the student’s final evaluation, using the Student
                Evaluation form included in this package and in the host information package.
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-12">
                The student shall:
                <ul>
                    <li>
                        Maintain a professional attitude and a high level of participation.
                    </li>
                    <li>
                        Treat this practicum as a job and should adhere to all company employee policies.
                    </li>
                    <li>
                        Track hours worked and report them to the Program Assistant through <b>Form D</b>.
                    </li>
                    <li>
                        Maintain contact with the lead instructor during their practicum.
                    </li>
                    <li>
                        Respect schedules and meet deadlines.
                    </li>
                    <li>
                        Conduct themselves appropriately.
                    </li>
                    <li>
                        Acknowledges that the Host and/or College has the right to terminate an unsatisfactory placement.
                    </li>
                </ul>
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-4">
                <label asp-for="OrgName" class="form-label">Organization Name:</label>
                @if (User.IsInRole("student") || User.IsInRole("employer"))
                {
                    <input asp-for="OrgName" value="@Model.PracHost" class="form-control" readonly />
                    <span asp-validation-for="OrgName" class="text-danger"></span>
                }
                else
                {
                    <input asp-for="OrgName" class="form-control" />
                    <span asp-validation-for="OrgName" class="text-danger"></span>
                }

            </div>
            <div class="col-md-4">
                <label asp-for="PracSV" class="form-label">Practicum Supervisor:</label>
                @if (User.IsInRole("student") || User.IsInRole("employer"))
                {
                    <input asp-for="PracSV" value="@Model.PracSV" class="form-control" readonly />
                    <span asp-validation-for="PracSV" class="text-danger"></span>
                }
                else
                {
                    <input asp-for="PracSV" class="form-control" readonly />
                    <span asp-validation-for="PracSV" class="text-danger"></span>
                }
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-4">
                <label asp-for="Address.Street" class="form-label">Street:</label>
                @if (User.IsInRole("student") || User.IsInRole("employer"))
                {
                    <input asp-for="Address.Street" type="text" value="@Model.Address.Street" class="form-control" readonly>
                }
                else
                {
                    <input asp-for="Address.Street" type="text" class="form-control">
                }
                <span asp-validation-for="Address.Street" class="text-danger"></span>
            </div>
            <div class="col-md-4">
                <label asp-for="Address.City" class="form-label">City:</label>
                @if (User.IsInRole("student") || User.IsInRole("employer"))
                {
                    <input asp-for="Address.City" type="text" value="@Model.Address.City" class="form-control" readonly>
                }
                else
                {
                    <input asp-for="Address.City" type="text" class="form-control">
                }
                <span asp-validation-for="Address.City" class="text-danger"></span>
            </div>
            <div class="col-md-4">
                <label asp-for="Address.Prov" class="form-label">Province:</label>
                @if (User.IsInRole("student") || User.IsInRole("employer"))
                {
                    <input asp-for="Address.Prov" type="text" value="@Model.Address.Prov" class="form-control" readonly>
                }
                else
                {
                    <input asp-for="Address.Prov" type="text" class="form-control">
                }
                <span asp-validation-for="Address.Prov" class="text-danger"></span>
            </div>
            <div class="col-md-4">
                <label asp-for="Address.Country" class="form-label">Country:</label>
                @if (User.IsInRole("student") || User.IsInRole("employer"))
                {
                    <input asp-for="Address.Country" type="text" value="@Model.Address.Country" class="form-control" readonly>
                }
                else
                {
                    <input asp-for="Address.Country" type="text" class="form-control">
                }
                <span asp-validation-for="Address.Country" class="text-danger"></span>
            </div>
            <div class="col-md-4">
                <label asp-for="Address.PostalCode" class="form-label">Postal Code:</label>
                @if (User.IsInRole("student") || User.IsInRole("employer"))
                {
                    <input asp-for="Address.PostalCode" type="text" value="@Model.Address.PostalCode" class="form-control" readonly>
                }
                else
                {
                    <input asp-for="Address.PostalCode" type="text" class="form-control">
                }
                <span asp-validation-for="Address.PostalCode" class="text-danger"></span>
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-4">
                <label asp-for="Position" class="form-label">Position:</label>
                @if (User.IsInRole("student") || User.IsInRole("employer"))
                {
                    <input asp-for="Position" type="text" value="@Model.Position" class="form-control" readonly>
                }
                else
                {
                    <input asp-for="Position" type="text" class="form-control">
                }
                <span asp-validation-for="Position" class="text-danger"></span>
            </div>
            <div class="col-md-4">
                <label asp-for="Email" class="form-label">Email Address:</label>
                @if (User.IsInRole("student") || User.IsInRole("employer"))
                {
                    <input asp-for="Email" type="text" value="@Model.Email" class="form-control" readonly>
                }
                else
                {
                    <input asp-for="Email" type="text" class="form-control">
                }
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>
            <div class="col-md-4">
                <label asp-for="Phone" class="form-label">Phone Number:</label>
                @if (User.IsInRole("student") || User.IsInRole("employer"))
                {
                    <input asp-for="Phone" type="text" value="@Model.Phone" class="form-control" readonly>
                }
                else
                {
                    <input asp-for="Phone" type="text" class="form-control">
                }
                <span asp-validation-for="Phone" class="text-danger"></span>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                Please enter your first and last name below:
            </div>
        </div>
        <div class="row mb-3 mt-2">
            <div class="col-md-6">
                <label for="formBStudentName" class="form-label">Student Name:</label>
                @if (User.IsInRole("student") || User.IsInRole("employer"))
                {
                    <input asp-for="StuName" type="text" value="@Model.StuName" class="form-control" readonly>
                }
                else
                {
                    <input asp-for="StuName" type="text" class="form-control">
                }
                <span asp-validation-for="StuName" class="text-danger"></span>
            </div>

        </div>

        @if (User.IsInRole("student"))
        {
            <div class="row mb-3">
                <div class="col-md-8">
                    <label asp-for="StuSign" class="form-label">Name:</label>
                    <input asp-for="StuSign" type="text" class="form-control" required>
                    <span asp-validation-for="StuSign" class="text-danger"></span>
                </div>
                <div class="col-md-4">
                    <label asp-for="StuSignDate" class="form-label">Date:</label>
                    <input asp-for="StuSignDate" type="date" class="form-control">
                    <span asp-validation-for="StuSignDate" class="text-danger"></span>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-8">
                    <label asp-for="EmpSign" class="form-label">Name:</label>
                    <input asp-for="EmpSign" type="text" class="form-control" readonly>
                </div>
                <div class="col-md-4">
                    <label asp-for="EmpSignDate" class="form-label">Date:</label>
                    <input asp-for="EmpSignDate" type="date" class="form-control" readonly>
                </div>
            </div>
        }
        else if (User.IsInRole("employer"))
        {
            <div class="row mb-3">
                <div class="col-md-8">
                    <label asp-for="StuSign" class="form-label">Name:</label>
                    <input asp-for="StuSign" type="text" class="form-control" readonly>
                </div>
                <div class="col-md-4">
                    <label asp-for="StuSignDate" class="form-label">Date:</label>
                    <input asp-for="StuSignDate" id="stuDateInput" type="date" class="form-control" readonly>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-8">
                    <label asp-for="EmpSign" class="form-label">Name:</label>
                    <input asp-for="EmpSign" type="text" class="form-control" required>
                    <span asp-validation-for="EmpSign" class="text-danger"></span>
                </div>
                <div class="col-md-4">
                    <label asp-for="EmpSignDate" class="form-label">Date:</label>
                    <input asp-for="EmpSignDate" id="empDateInput" type="date" class="form-control">
                    <span asp-validation-for="EmpSignDate" class="text-danger"></span>
                </div>
            </div>
        }
        else
        {
            <div class="row mb-3">
                <div class="col-md-8">
                    <label asp-for="StuSign" class="form-label">Name:</label>
                    <input asp-for="StuSign" type="text" class="form-control" readonly>
                    <span asp-validation-for="StuSign" class="text-danger"></span>
                </div>
                <div class="col-md-4">
                    <label asp-for="StuSignDate" class="form-label">Date:</label>
                    <input asp-for="StuSignDate" id="stuDateInput" type="date" class="form-control" readonly>
                    <span asp-validation-for="StuSignDate" class="text-danger"></span>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-8">
                    <label asp-for="EmpSign" class="form-label">Name:</label>
                    <input asp-for="EmpSign" type="text" class="form-control" readonly>
                    <span asp-validation-for="EmpSign" class="text-danger"></span>
                </div>
                <div class="col-md-4">
                    <label asp-for="EmpSignDate" class="form-label">Date:</label>
                    <input asp-for="EmpSignDate" id="empDateInput" type="date" class="form-control" readonly>
                    <span asp-validation-for="EmpSignDate" class="text-danger"></span>
                </div>
            </div>
        }

        <!-- Content for Form B -->
        <div class="modal-footer sticky justify-content-center">
            <div>
                <a href="/PracticumForm/Index" class="btn btn-danger">Cancel</a>
            </div>
            <input type="submit" class="btn btn-success" value="Submit" />
            @if (User.IsInRole("student") || User.IsInRole("admin"))
            {
                <div>
                    <a href="/PracticumForm/CreateFormA" class="btn btn-secondary">Back to Form A</a>
                </div>
            }
        </div>
    </form>
</div>
@section scripts {
    <script>
        // Get today's date in the client's local time
        var today = new Date().toLocaleDateString('en-CA');

        // Set the min attribute of the input field to today's date
        document.getElementById('startDateInput').min = today;
        document.getElementById('endDateInput').min = today;
        document.getElementById('stuDateInput').min = today;
        document.getElementById('empDateInput').min = today;
    </script>
}